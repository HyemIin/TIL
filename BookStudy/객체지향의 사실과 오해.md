# 1장. 협력하는 객체들의 공동체

## 목적 : 객체지향 패러다임의 핵심이 자율적인 객체들의 협력이라는 사실을 강조.

### 1. 협력하는 사람들

**→ 현실세계에서 하나의 목적을 달성하기 위해선 연관된 여러 사람의 조화와 조율이 필요하다. 
즉 역할과 책임을 기반한 협력이 기본이다.**

- **커피 공화국의 아침**
    - 목적 : “음료 주문”
    아무리 작은 이벤트라도, 이러한 하나의 목적을 달성하기 위해 그 일과 연관된 여러 사람들의 조화와 조율이 필요하다. 즉 역할과 책임을 기반한 협력이 기본이다.
    - 협력 : 손님 - 캐시어 - 바리스타 간 협력 관계 존재
    - 역할과 책임
        - 손님(주문)
        - 캐시어(주문 받기 및 바리스타에 주문 전달,커피 제작 완료 메세지를 손님에게 전달)
        - 바리스타 (커피 만들기)
    - 커피 주문은 동기/비동기를 설명하는 좋은 예시가 되기도,,ㅋㅋ
- **요청과 응답으로 구성된 협력**
    - Keyword : 요청,응답
    - 어떠한 목적을 달성하기 위해선 혼자만의 힘으로는 버거운 상황이 많다. 그러므로 다른 사람의 도움을 받아 문제를 해결해야하는데, 이런 협력관계에서 서로 소통하는 방법은 요청과 응답이다.
- **역할과 책임**
    - 작가가 정의한 역할과 책임이란?
    - 역할 : 어떤 협력에 참여하는 특정 사람이 협력 안에서 차지하는 책임이나 임무를 의미한다.
    - 책임 : 위에서 언급한 역할을 맡은 사람이 수행해야할 임무
    - 여기서 중요한 건, 해당 역할을 “누가(who)” 수행하는지는 중요하지 않다. 즉 역할을 수행하는 수행주체는 언제든 대체가능하다는 것이다.
    - 또한 역할에 맡는 책임을 “어떻게(how)” 수행하는지는 중요하지 않다. 동일한 요청에 대한 동일한 응답만 제공할 수 있다면 문제가 없기 때문이다. 이렇게 다른 방식으로 응답하는 것을 ‘다형성’이라 한다.
    - 한사람이 동시에 여러 역할 가능 → 이건 예시가 있을까??

### 2. 역할,책임, 협력

**→ “객체”가 한다.**

- **기능을 구현하기 위해 협력하는 객체들**
    - 앞서 설명한 은유를 실제 “기능 구현” 이라는 근본 개념으로 이동
- **역할과 책임을 수행하며 협력하는 객체들**
    - 애플리케이션의 기능은 더 작은 책임으로 분할되고, 책임은 적절한 역할을 수행할 수 있는 객체에 의해 수행된다.
    - 객체지향 설계란, 적절한 객체에게 적절한 책임을 할당하는 것이다.

### 3. 협력 속에서 사는 객체

**→ 협력의 주체는 객체이며,협력을 잘 수행하기 위해선 객체는 충분한 협력성과 충분한 자율성을 갖춰야한다.**

- **상태와 행동을 함께 지닌 자율적인 객체**
    - 객체란, 상태와 행동을 함께 지닌 실체이다.
    - 자율적이라는 건, 협력에 참여하는 과정 속에서 스스로 판단하고 스스로 결정할 수 있다 라는 뜻이다.
    - 그러므로 자율적인 객체이기 위한 필요조건은 객체가 협력에 참여하기 위해 어떤 행동을 해야한다면, 그 행동을 하기위해 필요한 상태도 함께 갖고 있다는 뜻으로 해석할 수 있다.
    - 이런 자율성을 지키기 위해선, 객체는 약속된 방법으로만 다른 객체와 의사소통을 해야하는 규칙을 스스로 정해야한다. 만약 그렇지 않다면, 다른 객체가 자신의 private한 영역을 맘대로 침범하여 변경시킴으로써 자율성을 저해할 수 있기 때문이다.
- **협력과 메세지**
    - 메세지 : 객체가 협력하기 위해 사용하는 유일한 의사소통 수단
    - 즉, 메세지를 요청하고 응답함으로써 객체 간 협력이 이루어진다.
- **메서드와 자율성**
    - 메서드 : 객체가 수신한 메세지를 처리하는 자신만의 방법
    - 메시지와 메서드를 분리함으로써 객체의 자율성이 보장된다. 
    왜냐하면 요청결과만 통일된다면 어떻게(how) 수행하든 그 과정은 상관없어지기 때문이다. 만약 메시지에 “어떻게(how)” 해달라는 내용이 포함된다면 객체는 반드시 그 방법으로만 해달라는 요청메세지를 이행해야하기 때문에 자율성이 저해된다.

### 4. 객체지향의 본질

**→ 객체지향의 본질이란, 자율적인 객체들 간의 협력을 통해 스스로 맡은 역할과 책임을 수행하는 것**

- **객체를 지향해라**
    - 클래스를 지향하지 말고, 객체의 역할,책임,협력에 집중할 것. 클래스 지향의 문제점은 애플리케이션의 유연성과 확장성을 저해한다.
    - 클래스를 지향하는 것은 첫번째 도시전설,,,

# 2장. 이상한 나라의 객체

## 목적 : “객체란 무엇인가”라는 본질적인 질문에 대답하고자 함. 객체가 상태와 행동, 식별자를 가진 존재라는 사실을 이해하도록 유도

### 1. 객체지향과 인지 능력

**→ 객체지향은 세상을 구성하는 요소들을 자율적이고 독립적인 객체들로 분해할 수 있는 인간의 기본적인 인지 능력에 기반을 두고 있기 때문에 직관적이고 이해하기 쉬운 패러다임이다.**

### 2. 객체, 그리고 이상한 나라

**→ 현실 세계의 비유를 통해 객체가 어떻게 정의되고 표현되는가?**

- **이상한 나라의 엘리스**
    - 줄거리 설명(주로 앨리스의 외형이 변형되는 부분)
- **엘리스 객체**
    - **엘리스를 객체에 비유하여 객체의 특징과 엘리스의 행동을 대조**
    - 엘리스 객체는 상태를 갖고 있다.
    - 엘리스의 상태를 변경하는 것은 엘리스의 행동이다.
    - 엘리스의 상태에 따라 특정 행동의 성공여부에 영향을 미친다.
    - 엘리스의 행동 순서에 따라 결과가 달라진다.
    - 엘리스의 상태가 변하더라도 엘리스는 엘리스다.(유일무이)

### 3. 객체, 그리고 소프트웨어 나라

**→ SW세계에서 객체란 어떻게 정의되고 표현되는가?**

- **상태**
    - 객체가 특정 행동을 함을써 나타나는 결과는 과거 어떤 행동들을 했는가에 의존한다.
    - 이러한 객체의 과거 행적에 대한 결과가 객체의 상태이다.
    - 객체의 상태는 객체가 주체적으로 변경시키며, 외부에 노출시키지 않는다.(캡슐화)
    - 상태는 “프로퍼티 값”으로 표현한다(키=130cm,위치 = 통로) - 가변적
    - 이런 캡슐화로 인해 객체의 자율성과 협력의 유연성이 발휘된다.
- **행동**
    - 위와 같은 객체의 상태를 변화하기 위해선 객체 스스로 행동을 해야한다.
    - 또한 이러한 행동은 객체가 협력에 참여할 수 있는 유일한 방법이기도 하다.
    - 즉, 행동이란, 외부의 요청 또는 수신 메세지를 응답하기 위해 동작하고 반응하는 활동이다.
- **식별자**
    - 각 객체가 유일무이하다는 것은 서로를 구별할 수 있는 식별자가 있다는 뜻이다.
    - 식별자 = 프로퍼티라고 한다.(객체의 상태를 구성하는 모든 특징, 키라는 요소, 위치라는 요소)
    - 이때, 상태는 시간에 따라 가변적이므로 식별자가 될 수 없다.

### 4. 기계로서의 객체

**→ 객체를 하나의 기계로 비유. 이는 객체의 캡슐화를 보여주는 좋은 예시이다. 객체에 접근할 수 있는 유일한 방법은 객체가 제공한 행동뿐이라는 것을 강조하기 때문이다.**

- 기계가 제공하는 명령 버튼, 쿼리 버튼 이외엔 기계를 다룰 수 있는 방법이 없다.(캡슐화)

### 5. 행동이 상태를 결정한다

**→ 객체지향 설계는 애플리케이션에 필요한 협력을 생각하고, 협력에 참여하는데 필요한 행동을 생각한 후 행동을 수행할 객체를 선태하는 방식으로 수행해야한다.(Top down)**

- 상태를 먼저 결정하고 행동을 나중에 결정할 경우 아래와 같은 부작용 발생
    - 캡슐화 저해
    - 객체 고립 발생
    - 객체 재사용성 저하

### 6. 은유와 객체

**→ 객체 지향 세계와 현실세계는 분명한 차이가 있는 다른 세계관이라는 것을 인지해야한다. 하지만 “은유”라는 방법을 통해 우리가 객체 지향 세계를 현실 세계에 빗대어 훨씬 쉽게 이해하고 받아들이는데 도움을 준다.** 

- **두 번째 도시전설**
    - 객체지향은 현실세계의 모방??
    - 실제로는 소프트웨어의 객체와 현실세계의 객체는 전혀 다른 양상을 가진다.
    - 소프트웨어 객체는 스스로 행동할 수 있지만, 현실세계의 객체는 스스로 행동 못하는 것도 존재하기 때문이다.
        - ex. 상품 등
- **의인화**
    - 의인화 : 현실의 객체보다 소프트웨어 객체가 스스로 할 수 있는 일이 더 많다.(SW객체는 살아있어,,)
        - ex. 트럼프 카드가 스스로 뒤집는 등
- **은유**
    - 은유 : 객체 지향 세계와 현실 세계 사이의 관계를 좀 더 정확하게 설명할 수 있는 단어
    - 은유란, 실제로는 적용되지 않는 한가지 개념을 이용해 다른 개념을 서술하는 방법(~like)
    - 객체지향 세계와 현실 세계는 실제로 서로 차이가 있는, 다른 세계관이지만, 서로 간 객체에 대한 내용 일부가 일치하기 때문에 은유를 통해 객체 지향 세계를 좀 더 직관적으로 이해하기 쉽게 도울 수 있는 장점이 있다.
        - ex. 동물(부모 클래스)-사자(자식 클래스) & 호랑이(자식 클래스)
- **이상한 나라를 창조하라**
    - 책에서 쓰이는 엘리스 세계 예제에서 현실과 다른 점을 반영한 세계관이다.

# 3장 타입과 추상화

## 목적 : 추상화라는 방법을 통해 객체를 각각 타입으로 분류함으로써 안정적인 객체지향 프로그래밍을 할 수 있도록 한다.

### 1. 추상화를 통한 복잡성 극복

**→ 아래 예시 처럼 추상화는 복잡한 현실을 “이해하기 쉽게” 단순화하기 위한 기본적인 인지수단이다.**

너무 사실적으로 묘사해 복잡했던 지하철 노선도를 추상화함으로써 본래 목적에 집중.

불필요한 것은 과감히 제거

추상화 1번 : 공통은 취하고 차이점은 버림으로써 공통점에 집중

추상화 2번 : 복잡한 걸 단순화 시킬 것 , 불필요한 것 제거

### 2. 객체지향과 추상화

**→ 추상화 1,2차원을 활용하여 객체를 개념으로 분류하는 것이 강력한 객체지향을 위한 기본이다.**

- 모두 트럼프일 뿐 **= 추상화 1번(일반화)**
    - 엘리스는 무섭지만,,기껏 트럼프에 불과하다고 생각했다. == 트럼프란 공통의 부분으로 묶어서 추상화(1번)
    - 병사,정원사, 왕자,공주, 하객 등 다 트럼프로 묶어버림
- 그룹으로 나누어 단순화하기 **= 추상화 2번(단순화)**
    - 정원사 병사 신하 왕자 공주 하객 하트 잭,,,, 은 모두 “트럼프”의 일반적인 외형과 행동 방식을 지니고 있기 때문에, 트럼프라고 줄여부를 수 있다. 나머지 노이즈 지식은 아예 배제
- 개념
    - 개념이란, 공통점을 기반으로 객체를 묶기 위한 그릇을 의미한다.
    - 방금 같은 트럼프도 개념의 일종이다.
    - 이런 개념을 이용하면 객체를 여러 개념 그룹으로 분류할 수 있다.(Classification == class)
- 개념의 세가지 관점
    - 1) 상징(symbol) : 개념을 가리키는 간략한 이름이나 명칭 (트럼프)
    - 2) 내연(intension) : 개념의 완전한 정의를 나타내며, 내연의 의미를 이용해 객체가 개념에 속하는지 확인(트럼프는 몸이 납작하고 두손 두발이 네모난 몸 모서리에 달려있다)
        - 내연이 해당 객체가 개념에 속하는지 구분할 수 있는 조건이다.
    - 3) 외연(extension) 개념에 속하는 모든 객체의 집합
        - 정원사 병사 신하 왕자 공주 하객 하트 잭 ,,,, 등은 외연이다.
- 객체를 분류하기 위한 틀
    - 객체를 분류하기 위한 개념들의 구분과 기준이 명확해야한다.
- 분류는 추상화를 위한 도구다
    - 객체를 분류하는 과정은 추상화 2가지 차원을 모두 사용한다.
    - 1번 : 공통점만 묶기(일반화) : 트럼프라는 개념을 묶기
    - 2번 : 내연 외 이야기의 다른 내용은 일체 무시(단순화)

### 3. 타입

**→ 클래스는 사용자 정의 타입이다. 객체가 어떤 행동을 하는지를 기준으로 객체의 타입을 결정해야한다.**

**→ 클래스 개념 설명**

- 타입은 개념이다
    - 앞서 설명한 개념을 개발세계에선 “타입”으로 명명한다.
    - 타입은 공통점을 기반으로 객체들을 묶기 위한 틀이다.
- 데이터 타입
    - 1) 타입은 데이터가 어떤 목적으로 사용되느냐에 관해 분류해둔 것
        - 숫자형은 계산을 위해, 문자열은 내용을 나타내기위해 등등
    - 2) 타입에 속한 데이터를 메모리에 어떻게 표현하는지는 외부로부터 private하다
        - 개발자는 이걸 몰라도 아무 지장없음
- 객체와 타입
    - 데이터 타입과 객체지향의 타입은 깊은 연관성이 있다.
    - 우리는 프로그램 개발 시 객체를 일종의 데이터처럼 사용하고, 객체에게 타입을 붙여 목적에 따라 다르게 사용하기 때문이다.
    - 물론 객체 ≠ 데이터이다. 객체에서 가장 중요한건 객체의 행동이다. 어떤 객체든 동일한 행동을 할 수 있다면, 같은 타입으로 분류한다는 뜻
- 행동이 우선이다. (RDD)
    - 객체가 어떤 행동을 하느냐를 기준으로 객체의 타입이 결정된다.
    - 이것이 객체를 타입으로 분류할 때 사용해야하는 명확한 기준이다.
    - (다형성) 같은 타입에 속한 객체는 행동만 동일하면 서로 다른 데이터를 가질 수 있다. 즉, 동일한 요청에 대하 서로 다른 방식으로 응답할 수 있다.
    - (캡슐화) 객체의 행동만이 기준이기 때문에, 나머지 데이터는 숨긴다

### 4. 타입의 계층

**→ 부모-자식 클래스 설명**

- 트럼프 계층
    - 엘리스에서 보면, 엄밀히 따졌을 때 트럼프와 트럼프 인간으로 계층이 구분된다.
    - 지금까지 트럼프라 개념한 것들은 사실 트럼프 인간이었던 것.
- 일반화/특수화 관계 (부모-자식 클래스 설명)
    - 위 2가지 개념의 관계를 일반화/특수화의 관계라고 한다.
    - 트럼프가 더 일반적인 개념이다.
    - 일반화/특수화 관계를 결정하는 것은 결국 객체의 행동이다. 트럼프인간들은 몸을 좌우로 펄럭일수도있고, 손으로 인사도 할 수 있다. 이런 행동적인 특징이 구분의 기준이 된다.
    - 즉, 트럼프의 행동 + 트럼프는 못하는 인간의 행동을 할 수 있기 특수화 된 것.
- 슈퍼타입과 서브타입
    - 일반적인 타입 : 슈퍼타입(부모)
    - 특수적인 타입 : 서브 타입(자식)
- 일반화는 추상화를 위한 도구다
    - 일반화/특수화 관계는 추상화 2번째 차원인 단순화의 대표적인 예시다. ?????
    - **100p 위의 말 잘 이해안됨..**

### 5. 정적 모델

**→ 클래스를 이용해 타입을 구현된 모델. 즉 객체가 속한 타입의 정적인 모습을 표현하는 중심**

- 타입의 목적
    - 인간의 인지 능력으로는 시간에 따라 동적으로 변화는 객체의 복잡성을 극복하기가 너무 어렵기 때문
    - 엘리스의 키가 시시각각 변화는 기억하며 추적하기보단, 엘리스가 키라는 값을 가질 수 있다는 사실만 기억해두는 것이다.
    - 타입을 통해 동적인 객체를 정적 특징으로 묶을 수 있다.
- 그래서 결국 타입은 추상화다
    - 동적인 상태 변화라는 필요없는 것은 제거하고(단순화) 특징만으로 구분하기 때문(일반화)
- 동적 모델과 정적 모델
    - 동적 모델
        - 객체가 특정 시점에 구체적으로 어떤 상태를 가지는지 파악 == 스냅샷
        - 객체 다이어그램으로 표시
    - 타입 모델
        - 객체가 가질 수 있는 모든 상태와 모든 행동을 시간에 독립적으로 표현
        - 즉 객체의 타입을 표현
- 클래스
    - 정적 모델을 클래스를 이용하여 구현
    - 클래스는 타입을 구현하는 가장 보편적인 방법
    - 단, 클래스 ≠ 타입이다. 클래스는 타입을 구현하기 위한 하나의 방법일 뿐.
