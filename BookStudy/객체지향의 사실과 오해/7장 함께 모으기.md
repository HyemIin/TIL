# 7장. 함께 모으기

### 커피 전문점 도메인

- **커피 주문**
    - 커피 전문점에서 커피 주문하는 과정을 객체들의 협력 관계로 구현
- **커피 전문점이라는 세상**

**→ 커피 전문점에 속하는 요소를 모두 타입을 가진 객체로 구분하고, 타입간의 관계로 구분지음**

- 메뉴판의 4가지 항목이 있다 . 각각 객체로 취급한다.
- 손님 또한 객체, 바리스타 또한 객체
- 바리스타가 제조하는 커피 역시 객체
- 종합해서 보면, 객체지향의 관점에서 커피 전문점이라는 도메인은 손님,메뉴항목,메뉴판,바리스타,커피 객체로 구성되어 있다. p.211
- 각 객체간 타입에 대해 알아보자
    - 손님 타입의 손님 객체
    - 바리스타 타입의 바리스타 객체
    - 커피 타입의 아메리카노,에스프레소,카라멜 마키야또, 카푸치노 커피 객체
    - 메뉴 타입의 아메리카노 메뉴, 에스프레소 메뉴,카라멜 마키야또 메뉴, 카푸치노 메뉴 객체
- 각 객체간 관계에 대해 알아보자
    - 메뉴판은 메뉴 항목을 포함하고 있다.p.215

### 설계하고 구현하기

- 커피를 주문하기 위한 협력 찾기
    - 객체지향의 1 목표는 휼륭한 협력을 설계하는 것
    - 협력을 설계할 때는 객체가 메시지를 선택하는 것이 아니라, 메시지가 객체를 선택하게 해야한다.
    - 그럼 어떻게 협력해야하나?
        - 메시지를 찾을 것(커피를 주문하라)
        - 메시지를 처리하기에 적합한 객체를 찾을 것(손님). 객체는 메시지를 처리할 책임을 할당받음
        - 객체가 책임수행 시 필요한 정보를 누가 제공할 수 있는지 찾을 것(주문 시 메뉴판 필요)
- 인터페이스 정리하기
- 구현하기

### 코드와 세가지 관점

- 코드는 세 가지 관점을 모두 제공해야 한다

**→ 아래 3가지 관점은 동일한 코드를 바라보는 서로 다른 관점이다. 하나의 클래스 안에 3가지 관점을 모두 포함하면서도 각 관점에 대응되는 요소를 명확하고 깔끔하게 드러낼 수 있어야 한다.**

- 개념 관점
    - Customer,Menu,MenuItem,Barista,Coffee 클래스 제공.
    - 위 클래스는 커피 전문점 도메인을 구성하는 중요한 개념과 관계를 반영
- 명세 관점
    - 클래스의 인터페이스를 바라본다.
    - 최대한 변화에 안저적인 인터페이스를 만들기 위해서는 인터페이스를 통해 구현과 관련된 세부 사항이 드러나지 않게 해야한다.
- 구현 관점
    - 클래스의 내부 구현을 바라본다.
    - 메서드의 구현과 속성의 변경은 원칙적으로 외부의 객체에게 영향을 미쳐서는 안된다.
- 도메인 개념을 참조하는 이유
    - 도메인에 대한 지식을 기반으로 코드의 구조와 의미를 쉽게 유추할 수 있기 때문이다.
    - 이는 유지보수성에 큰 영향을 미친다.
        - 예를 들어, 커피 전문점이라는 도메인에서 우리는 기본적으로 커피 주문 및 결제, 이후 커피 제조 및 전달까지 있는 일련의 과정을 이미 알고 있기에, 코드를 작성할 때 보다 쉽게 개발방향을 유추할 수 있다.
- 인터페이스와 구현을 분리하라
    - 명세 관점 : 클래스의 안정적인 측면을 드러내야한다.
    - 구현 관점 : 클래스의 불안정한 측면을 드러내야한다.
