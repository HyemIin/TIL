# Dependency_Injection
- 의존성 주입을 하는 방법은 3가지가 있다.

- 어느 방법이 불변성을 보장하고 테스트에 용이한지 관점으로 골라야한다.
## 1) setter
  - 접근제어자 : public 이기 때문에, 값이 언제든 바뀔 수 있다(불변성 보장X)
  - 순환참조를 잡을 수 없다.(런타임 시 에러 발생) <br> 왜냐하면, 현재 클래스가 다른 클래스와 의존관계를 맺은 채 객체를 생성했다해도 당장은 문제가 없기 때문이다. <br>
    다만 실제로 그 객체 내 의존한 클래스(또는 메서드)를 사용하게 될 경우, 그제서야 문제가 발생하기 때문이다.<br>
    (ex. 컨트롤러 내 서비스를 참조해놓은 상태로, 컨트롤러만 객체 생성을 했다하면, 이후 서비스 기능을 돌리는 런타임 시점에 에러)
## 2) 생성자
  - 밖에서 접근 불가
  - 생성자 태생 목적이 인스턴스 변수를 초기화하는 것이기 때문에, 생성자 주입은 인스턴스 생성 시 1회 호출되는 것이 보장. → 한번 값이 결정되면 다신 변하지 않는다(불변성 보장)
  - 순환참조를 컨파일 시점에서 잡을 수 있다.
## 3) 필드
  - 접근제어자 : private 이기 때문에, 대체적으로 막아두긴 함
  - 그러나, 테스트가 불편함 (Mocking 불가)
  - @Autowired를 이용하여 의존성을 주입하기 때문에, 스프링에 의존적이기 때문이다. 즉 순수 자바로 테스트가 불가능하다.(테스트 진행 시 NPE 발생)
  - 순환참조를 잡을 수 없다.(런타임 시 에러 발생)
